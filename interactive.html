<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ—ñ–Ω—ñ–π–Ω–∞ —Ç–∞–∫—Ç–∏–∫–∞ | –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∑ JavaScript</title>
    <style>
        /* –û–°–ù–û–í–ù–Ü –°–¢–ò–õ–Ü */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Georgia', 'Times New Roman', serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        
        header {
            background: linear-gradient(135deg, #2c3e50 0%, #4a6491 100%);
            color: white;
            padding: 1.5rem 0;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            padding: 1rem;
            font-size: 2.2rem;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        }
        
        nav {
            background-color: #34495e;
            padding: 0.8rem;
            border-radius: 5px;
            margin-top: 1rem;
        }
        
        nav ul {
            display: flex;
            justify-content: center;
            list-style: none;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        nav li {
            margin: 0 10px;
        }
        
        nav a {
    color: white;
    text-decoration: none;
    font-weight: bold;
    padding: 8px 15px;
    border-radius: 5px;
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.current-page {
    background-color: #16a085;
    border-color: #0d7864;
    color: white !important; /* –î–æ–¥–∞—î–º–æ —Ü–µ–π —Ä—è–¥–æ–∫ */
}
        
        nav a:hover {
            background-color: #1a252f;
            transform: translateY(-2px);
        }
        
        .current-page {
            background-color: #16a085;
            border-color: #0d7864;
        }
        
        main {
            background-color: white;
            padding: 2.5rem;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            margin-bottom: 2rem;
        }
        
        section {
            margin-bottom: 2.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #eaeaea;
        }
        
        h2 {
            color: #2c3e50;
            margin-bottom: 1.2rem;
            padding-bottom: 0.7rem;
            border-bottom: 3px solid #3498db;
            font-size: 1.8rem;
        }
        
        h3 {
            color: #2980b9;
            margin: 1.5rem 0 0.8rem 0;
            font-size: 1.4rem;
        }
        
        /* –°–¢–ò–õ–Ü –î–õ–Ø –®–ö–ê–õ–ò –ß–ê–°–£ */
        .timeline-container {
            max-width: 1000px;
            margin: 40px auto;
            padding: 20px;
        }
        
        .timeline {
            position: relative;
            padding: 20px 0;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background: #3498db;
            transform: translateX(-50%);
        }
        
        .timeline-event {
            position: relative;
            margin: 40px 0;
            width: 50%;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .timeline-event:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        
        .timeline-event.left {
            left: 0;
        }
        
        .timeline-event.right {
            left: 50%;
        }
        
        .timeline-event::after {
            content: '';
            position: absolute;
            top: 20px;
            width: 20px;
            height: 20px;
            background: #e74c3c;
            border-radius: 50%;
            border: 4px solid #3498db;
        }
        
        .timeline-event.left::after {
            right: -12px;
        }
        
        .timeline-event.right::after {
            left: -12px;
        }
        
        .event-year {
            font-weight: bold;
            color: #e74c3c;
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        
        .event-details {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            border-left: 4px solid #3498db;
        }
        
        .event-details.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* –°–¢–ò–õ–Ü –î–õ–Ø –ö–ù–û–ü–û–ö */
        .controls {
            text-align: center;
            margin: 30px 0;
        }
        
        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
        }
        
        button:hover {
            background: #2980b9;
        }
        
        /* –°–¢–ò–õ–Ü –î–õ–Ø –í–Ü–ö–¢–û–†–ò–ù–ò */
        /* –°–¢–ò–õ–Ü –î–õ–Ø –í–Ü–ö–¢–û–†–ò–ù–ò */
#quiz-container {
    margin: 20px 0;
}

#question {
    font-size: 1.2rem;
    margin-bottom: 15px;
    color: #2c3e50; /* –¢–µ–º–Ω–æ-—Å–∏–Ω—ñ–π –¥–ª—è –ø–∏—Ç–∞–Ω–Ω—è */
    font-weight: bold;
}

#options {
    margin: 15px 0;
}

.quiz-option {
    display: block;
    margin: 10px 0;
    padding: 12px 15px;
    width: 100%;
    text-align: left;
    background-color: #f8f9fa;
    border: 1px solid #ddd;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 1rem;
    color: #333333; /* –¢–µ–º–Ω–æ-—Å—ñ—Ä–∏–π —Ç–µ–∫—Å—Ç */
}

.quiz-option:hover {
    background-color: #e9ecef;
    transform: translateY(-2px);
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.quiz-option:active {
    transform: translateY(0);
}

.quiz-option.correct {
    background-color: #d4edda;
    border-color: #c3e6cb;
    color: #155724; /* –¢–µ–º–Ω–æ-–∑–µ–ª–µ–Ω–∏–π */
    font-weight: bold;
}

.quiz-option.incorrect {
    background-color: #f8d7da;
    border-color: #f5c6cb;
    color: #721c24; /* –¢–µ–º–Ω–æ-—á–µ—Ä–≤–æ–Ω–∏–π */
}

.quiz-option:disabled {
    cursor: not-allowed;
    opacity: 0.8;
}

#result {
    margin: 15px 0;
    padding: 10px;
    border-radius: 5px;
    font-weight: bold;
    min-height: 24px;
    color: #333333; /* –ó–∞–±–µ–∑–ø–µ—á—É—î–º–æ –≤–∏–¥–∏–º—ñ—Å—Ç—å */
}

#score {
    margin-top: 20px;
    text-align: center;
    font-size: 1.2rem;
    font-weight: bold;
    color: #2c3e50; /* –¢–µ–º–Ω–æ-—Å–∏–Ω—ñ–π */
}

/* –ö–Ω–æ–ø–∫–∞ "–ù–∞—Å—Ç—É–ø–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è" */
#next-question {
    background-color: #3498db;
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1rem;
    margin-top: 15px;
    transition: background 0.3s;
}

#next-question:hover {
    background-color: #2980b9;
}
        
        /* –°–¢–ò–õ–Ü –î–õ–Ø –°–ò–ú–£–õ–Ø–¶–Ü–á */
        .slider-container {
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
        }
        
        .slider-container label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .slider-container input[type="range"] {
            width: 100%;
            margin: 10px 0;
        }
        
        .simulation-result {
            margin-top: 20px;
            padding: 15px;
            background: #fff;
            border-radius: 5px;
            border-left: 4px solid #3498db;
        }
        
        #formation-canvas {
            width: 100%;
            max-width: 800px;
            height: auto;
            margin-top: 20px;
            border: 1px solid #ddd;
            background: #f8f9fa;
            display: block;
        }
        
        .highlight {
            background-color: #fff9e6;
            padding: 1.5rem;
            border-left: 4px solid #f1c40f;
            margin: 1.5rem 0;
            border-radius: 0 5px 5px 0;
        }
        
        /* –ê–î–ê–ü–¢–ò–í–ù–Ü–°–¢–¨ */
        @media (max-width: 768px) {
            nav ul {
                flex-direction: column;
                align-items: center;
                gap: 5px;
            }
            
            nav li {
                margin: 5px 0;
                width: 100%;
                text-align: center;
            }
            
            nav a {
                display: block;
                padding: 10px;
            }
            
            h1 {
                font-size: 1.8rem;
                padding: 0.5rem;
            }
            
            main {
                padding: 1.5rem;
            }
            
            body {
                padding: 10px;
            }
            
            .timeline::before {
                left: 20px;
            }
            
            .timeline-event {
                width: calc(100% - 40px);
                left: 40px !important;
            }
            
            .timeline-event::after {
                left: -32px !important;
                right: auto !important;
            }
            
            .controls button {
                display: block;
                width: 100%;
                margin: 10px 0;
            }
        }
        
        footer {
            text-align: center;
            margin-top: 2rem;
            padding: 1.5rem;
            color: #7f8c8d;
            font-style: italic;
            border-top: 2px solid #bdc3c7;
            background-color: #ecf0f1;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <header>
        <h1>–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∑ JavaScript</h1>
        <nav>
            <ul>
                <li><a href="index.html">–ì–æ–ª–æ–≤–Ω–∞</a></li>
                <li><a href="history.html">–Ü—Å—Ç–æ—Ä—ñ—è</a></li>
                <li><a href="battles.html">–ë–∏—Ç–≤–∏</a></li>
                <li><a href="weapons.html">–û–∑–±—Ä–æ—î–Ω–Ω—è</a></li>
                <li><a href="decline.html">–ó–∞–Ω–µ–ø–∞–¥</a></li>
                <li><a href="interactive.html" class="current-page">–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="timeline-section">
            <h2>–•—Ä–æ–Ω–æ–ª–æ–≥—ñ—á–Ω–∞ —à–∫–∞–ª–∞ —Ä–æ–∑–≤–∏—Ç–∫—É –ª—ñ–Ω—ñ–π–Ω–æ—ó —Ç–∞–∫—Ç–∏–∫–∏</h2>
            <p>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –ø–æ–¥—ñ—é, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –¥–µ—Ç–∞–ª—ñ. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è.</p>
            
            <div class="controls">
                <button id="expandAll">–†–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ –≤—Å—ñ –ø–æ–¥—ñ—ó</button>
                <button id="collapseAll">–ó–≥–æ—Ä–Ω—É—Ç–∏ –≤—Å—ñ –ø–æ–¥—ñ—ó</button>
                <button id="highlightImportant">–í–∏–¥—ñ–ª–∏—Ç–∏ –≤–∞–∂–ª–∏–≤—ñ</button>
                <button id="sortChronological">–°–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑–∞ —Ä–æ–∫–æ–º</button>
            </div>
            
            <div class="timeline-container">
                <div class="timeline" id="timeline">
                    <!-- –ü–æ–¥—ñ—ó –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </div>
        </section>
        
        <section id="quiz-section">
            <h2>–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å–≤–æ—ó –∑–Ω–∞–Ω–Ω—è</h2>
            <div class="highlight">
                <h3>–í—ñ–∫—Ç–æ—Ä–∏–Ω–∞ –∑ –ª—ñ–Ω—ñ–π–Ω–æ—ó —Ç–∞–∫—Ç–∏–∫–∏</h3>
                <div id="quiz-container">
                    <p id="question">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø–∏—Ç–∞–Ω–Ω—è...</p>
                    <div id="options">
                        <!-- –í–∞—Ä—ñ–∞–Ω—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ —á–µ—Ä–µ–∑ JS -->
                    </div>
                    <button id="next-question">–ù–∞—Å—Ç—É–ø–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è</button>
                    <div id="result" style="margin-top: 15px; font-weight: bold; min-height: 24px;"></div>
                </div>
                <div id="score" style="margin-top: 20px; text-align: center; font-size: 1.2rem;">–†–∞—Ö—É–Ω–æ–∫: 0/5</div>
            </div>
        </section>
        
        <section id="simulation-section">
            <h2>–°–∏–º—É–ª—è—Ü—ñ—è –ª—ñ–Ω—ñ–π–Ω–æ–≥–æ —Å—Ç—Ä–æ—é</h2>
            <div class="highlight">
                <div class="slider-container">
                    <label for="soldier-slider">–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å–æ–ª–¥–∞—Ç—ñ–≤ —É –ª—ñ–Ω—ñ—ó: <span id="soldier-count">100</span></label>
                    <input type="range" id="soldier-slider" min="10" max="200" value="100">
                </div>
                
                <div class="slider-container">
                    <label for="distance-slider">–î–∏—Å—Ç–∞–Ω—Ü—ñ—è –¥–æ –≤–æ—Ä–æ–≥–∞: <span id="distance">50</span> –º–µ—Ç—Ä—ñ–≤</label>
                    <input type="range" id="distance-slider" min="10" max="200" value="50">
                </div>
                
                <button id="calculate-effectiveness">–†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å</button>
                
                <div id="simulation-result" class="simulation-result">
                    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Å–∏–º—É–ª—è—Ü—ñ—ó –±—É–¥—É—Ç—å —Ç—É—Ç -->
                </div>
                
                <canvas id="formation-canvas" width="800" height="200">
                    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î canvas. –û–Ω–æ–≤—ñ—Ç—å –±—Ä–∞—É–∑–µ—Ä –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É —Å–∏–º—É–ª—è—Ü—ñ—ó.
                </canvas>
            </div>
        </section>
    </main>

    <footer>
        <p>–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –¥–ª—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –∑ JavaScript &copy; 2023</p>
        <p>–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó: HTML5, CSS3, JavaScript, Canvas API</p>
    </footer>

    <script>
        // =================== –ü–†–û–°–¢–ï –ü–û–í–Ü–î–û–ú–õ–ï–ù–ù–Ø –ü–†–ò –ó–ê–í–ê–ù–¢–ê–ñ–ï–ù–ù–Ü ===================
        console.log("=== –°–¢–û–†–Ü–ù–ö–ê –ó–ê–í–ê–ù–¢–ê–ñ–£–Ñ–¢–¨–°–Ø ===");
        
        // =================== 1. –î–ê–ù–Ü –î–õ–Ø –®–ö–ê–õ–ò –ß–ê–°–£ ===================
        const timelineEvents = [
            {
                year: "1642",
                title: "–ë–∏—Ç–≤–∞ –ø—Ä–∏ –ë—Ä–µ–π—Ç–µ–Ω—Ñ–µ–ª—å–¥—ñ",
                description: "–ì—É—Å—Ç–∞–≤ II –ê–¥–æ–ª—å—Ñ –≤–ø—Ä–æ–≤–∞–¥–∂—É—î —Ä—É—Ö–ª–∏–≤—ñ—à—ñ –ø—ñ—Ö–æ—Ç–Ω—ñ —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—è —Ç–∞ –ª–µ–≥–∫—É –∞—Ä—Ç–∏–ª–µ—Ä—ñ—é",
                side: "left",
                important: true,
                details: "–ü–µ—Ä—à–µ –º–∞—Å–æ–≤–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –ª—ñ–Ω—ñ–π–Ω–æ—ó —Ç–∞–∫—Ç–∏–∫–∏ –≤ —Å—É—á–∞—Å–Ω–æ–º—É —Ä–æ–∑—É–º—ñ–Ω–Ω—ñ. –®–≤–µ–¥—Å—å–∫–∞ –∞—Ä–º—ñ—è –ø–æ–∫–∞–∑–∞–ª–∞ –ø–µ—Ä–µ–≤–∞–≥—É —Ä—É—Ö–ª–∏–≤–æ—Å—Ç—ñ –Ω–∞–¥ —á–∏—Å–µ–ª—å–Ω—ñ—Å—Ç—é."
            },
            {
                year: "1704",
                title: "–ë–∏—Ç–≤–∞ –ø—Ä–∏ –ë–ª–µ–Ω—Ö–µ–π–º—ñ",
                description: "–ú–∞–ª—å–±–æ—Ä–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—é –ª—ñ–Ω—ñ–π–Ω–æ—ó –ø—ñ—Ö–æ—Ç–∏ —Ç–∞ –º–∞–Ω–µ–≤—Ä–µ–Ω–æ—ó –∫–∞–≤–∞–ª–µ—Ä—ñ—ó",
                side: "right",
                important: true,
                details: "–ö–ª–∞—Å–∏—á–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ –∫–æ–æ—Ä–¥–∏–Ω–æ–≤–∞–Ω–∏—Ö –¥—ñ–π –ø—ñ—Ö–æ—Ç–∏, –∫–∞–≤–∞–ª–µ—Ä—ñ—ó —Ç–∞ –∞—Ä—Ç–∏–ª–µ—Ä—ñ—ó. –ê–Ω–≥–ª–æ-–∞–≤—Å—Ç—Ä—ñ–π—Å—å–∫—ñ –≤—ñ–π—Å—å–∫–∞ –∑–∞–≤–¥–∞–ª–∏ –ø–æ—Ä–∞–∑–∫–∏ —Ñ—Ä–∞–Ω—Ü—É–∑–∞–º."
            },
            {
                year: "1745",
                title: "–ë–∏—Ç–≤–∞ –ø—Ä–∏ –§–æ–Ω—Ç–µ–Ω—É–∞",
                description: "–ê–ø–æ–≥–µ–π –∫–ª–∞—Å–∏—á–Ω–æ—ó –ª—ñ–Ω—ñ–π–Ω–æ—ó —Ç–∞–∫—Ç–∏–∫–∏",
                side: "left",
                important: true,
                details: "–ó–Ω–∞–º–µ–Ω–∏—Ç–∞ —Ñ—Ä–∞–∑–∞ —Ñ—Ä–∞–Ω—Ü—É–∑—å–∫–æ–≥–æ –æ—Ñ—ñ—Ü–µ—Ä–∞: '–°—Ç—Ä—ñ–ª—è–π—Ç–µ –ø–µ—Ä—à–∏–º–∏, –ø–∞–Ω–æ–≤–µ –∞–Ω–≥–ª—ñ–π—Ü—ñ!'. –Ü–¥–µ–∞–ª—å–Ω–µ –≤–∏—à–∏–∫—É–≤–∞–Ω–Ω—è –ª—ñ–Ω—ñ–π –Ω–∞ –≤—ñ–¥–∫—Ä–∏—Ç—ñ–π –º—ñ—Å—Ü–µ–≤–æ—Å—Ç—ñ."
            },
            {
                year: "1757",
                title: "–ë–∏—Ç–≤–∞ –ø—Ä–∏ –õ–µ–π—Ç–µ–Ω—ñ",
                description: "–§—Ä—ñ–¥—Ä—ñ—Ö –í–µ–ª–∏–∫–∏–π –∑–∞—Å—Ç–æ—Å–æ–≤—É—î –∫–æ—Å–∏–π —Å—Ç—Ä—ñ–π",
                side: "right",
                important: true,
                details: "–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å –∫–æ—Å–æ–≥–æ —Å—Ç—Ä–æ—é —Ç–∞ –º–∞–Ω–µ–≤—Ä–µ–Ω–æ—Å—Ç—ñ. –ü—Ä—É—Å—Å—ñ—è –ø–µ—Ä–µ–º–æ–≥–ª–∞ –∞–≤—Å—Ç—Ä—ñ–π—Ü—ñ–≤, –Ω–µ–∑–≤–∞–∂–∞—é—á–∏ –Ω–∞ —á–∏—Å–µ–ª—å–Ω—É –ø–µ—Ä–µ–≤–∞–≥—É –æ—Å—Ç–∞–Ω–Ω—ñ—Ö."
            },
            {
                year: "1805",
                title: "–ë–∏—Ç–≤–∞ –ø—Ä–∏ –ê—É—Å—Ç–µ—Ä–ª—ñ—Ü—ñ",
                description: "–ù–∞–ø–æ–ª–µ–æ–Ω –¥–æ–≤–æ–¥–∏—Ç—å –ª—ñ–Ω—ñ–π–Ω—É —Ç–∞–∫—Ç–∏–∫—É –¥–æ –¥–æ—Å–∫–æ–Ω–∞–ª–æ—Å—Ç—ñ",
                side: "left",
                important: true,
                details: "–ì–µ–Ω—ñ–∞–ª—å–Ω–µ –∑–∞–º–∞–Ω—é–≤–∞–Ω–Ω—è –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞ —Ç–∞ —Ñ–ª–∞–Ω–≥–æ–≤–∞ –∞—Ç–∞–∫–∞. –ù–∞–ø–æ–ª–µ–æ–Ω —Ä–æ–∑–≥—Ä–æ–º–∏–≤ —Ä–æ—Å—ñ–π—Å—å–∫–æ-–∞–≤—Å—Ç—Ä—ñ–π—Å—å–∫—É –∞—Ä–º—ñ—é."
            },
            {
                year: "1854",
                title: "–ë–∞–ª–∞–∫–ª–∞–≤—Å—å–∫–∞ –±–∏—Ç–≤–∞",
                description: "–ó–Ω–∞–º–µ–Ω–∏—Ç–∞ '–¢–æ–Ω–∫–∞ —á–µ—Ä–≤–æ–Ω–∞ –ª—ñ–Ω—ñ—è'",
                side: "right",
                important: true,
                details: "93-–π —à–æ—Ç–ª–∞–Ω–¥—Å—å–∫–∏–π –ø–æ–ª–∫ —É –¥–≤–æ—à–µ—Ä–µ–Ω–≥–æ–≤–æ–º—É —Å—Ç—Ä–æ—é –∑—É–ø–∏–Ω–∏–≤ –∞—Ç–∞–∫—É —Ä–æ—Å—ñ–π—Å—å–∫–æ—ó –∫–∞–≤–∞–ª–µ—Ä—ñ—ó. –û–¥–∏–Ω –∑ –æ—Å—Ç–∞–Ω–Ω—ñ—Ö —É—Å–ø—ñ—à–Ω–∏—Ö –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω—å –ª—ñ–Ω—ñ–π–Ω–æ–≥–æ —Å—Ç—Ä–æ—é."
            }
        ];
        
        // =================== 2. –î–ê–ù–Ü –î–õ–Ø –í–Ü–ö–¢–û–†–ò–ù–ò ===================
        const quizQuestions = [
            {
                question: "–Ø–∫–∏–π –∫–æ—Ä–æ–ª—å –≤–¥–æ—Å–∫–æ–Ω–∞–ª–∏–≤ –ª—ñ–Ω—ñ–π–Ω—É —Ç–∞–∫—Ç–∏–∫—É –ø—ñ–¥ —á–∞—Å –¢—Ä–∏–¥—Ü—è—Ç–∏—Ä—ñ—á–Ω–æ—ó –≤—ñ–π–Ω–∏?",
                options: [
                    "–õ—é–¥–æ–≤–∏–∫ XIV",
                    "–ì—É—Å—Ç–∞–≤ II –ê–¥–æ–ª—å—Ñ", 
                    "–§—Ä—ñ–¥—Ä—ñ—Ö –í–µ–ª–∏–∫–∏–π",
                    "–ù–∞–ø–æ–ª–µ–æ–Ω –ë–æ–Ω–∞–ø–∞—Ä—Ç"
                ],
                correct: 1,
                explanation: "–ì—É—Å—Ç–∞–≤ II –ê–¥–æ–ª—å—Ñ, –∫–æ—Ä–æ–ª—å –®–≤–µ—Ü—ñ—ó, —Ä–∞–¥–∏–∫–∞–ª—å–Ω–æ —Ä–µ—Ñ–æ—Ä–º—É–≤–∞–≤ –∞—Ä–º—ñ—é, –≤–ø—Ä–æ–≤–∞–¥–∏–≤—à–∏ —Ä—É—Ö–ª–∏–≤—ñ—à—ñ —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—è —Ç–∞ –ª–µ–≥–∫—É –∞—Ä—Ç–∏–ª–µ—Ä—ñ—é."
            },
            {
                question: "–Ø–∫–∞ —à–≤–∏–¥–∫–æ—Å—Ç—Ä—ñ–ª—å–Ω—ñ—Å—Ç—å –±—É–ª–∞ —É –∫—Ä–µ–º–Ω–µ–≤–æ–≥–æ –º—É—à–∫–µ—Ç–∞?",
                options: [
                    "10-12 –ø–æ—Å—Ç—Ä—ñ–ª—ñ–≤ –∑–∞ —Ö–≤–∏–ª–∏–Ω—É",
                    "5-7 –ø–æ—Å—Ç—Ä—ñ–ª—ñ–≤ –∑–∞ —Ö–≤–∏–ª–∏–Ω—É", 
                    "2-3 –ø–æ—Å—Ç—Ä—ñ–ª—ñ–≤ –∑–∞ —Ö–≤–∏–ª–∏–Ω—É",
                    "1 –ø–æ—Å—Ç—Ä—ñ–ª –∑–∞ —Ö–≤–∏–ª–∏–Ω—É"
                ],
                correct: 2,
                explanation: "–ù–∞–≤—ñ—Ç—å –¥–æ–±—Ä–µ –ø—ñ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–π —Å–æ–ª–¥–∞—Ç –º—ñ–≥ –∑—Ä–æ–±–∏—Ç–∏ –ª–∏—à–µ 2-3 –ø–æ—Å—Ç—Ä—ñ–ª–∏ –∑–∞ —Ö–≤–∏–ª–∏–Ω—É —á–µ—Ä–µ–∑ —Å–∫–ª–∞–¥–Ω–∏–π –ø—Ä–æ—Ü–µ—Å –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∂–∞–Ω–Ω—è."
            },
            {
                question: "–©–æ —Ç–∞–∫–µ '–∫–æ—Å–∏–π —Å—Ç—Ä—ñ–π'?",
                options: [
                    "–°—Ç—Ä—ñ–π –¥–ª—è –∞—Ç–∞–∫–∏ –∑ —Ñ–ª–∞–Ω–≥—É",
                    "–ü–æ—Ö–∏–ª–∏–π —Å—Ç—Ä—ñ–π –¥–ª—è –∫—Ä–∞—â–æ–≥–æ –æ–≥–ª—è–¥—É",
                    "–û–¥–∏–Ω —Ñ–ª–∞–Ω–≥ –≤–∏–Ω–µ—Å–µ–Ω–∏–π –≤–ø–µ—Ä–µ–¥, —ñ–Ω—à–∏–π –≤—ñ–¥—Ç—è–≥–Ω—É—Ç–∏–π",
                    "–°—Ç—Ä—ñ–π –¥–ª—è –æ–±–æ—Ä–æ–Ω–∏ –Ω–∞ –ø–∞–≥–æ—Ä–±—ñ"
                ],
                correct: 2,
                explanation: "–ö–æ—Å–∏–π —Å—Ç—Ä—ñ–π (Schiefe Schlachtordnung) –±—É–≤ –≤–∏–Ω–∞—Ö–æ–¥–æ–º –§—Ä—ñ–¥—Ä—ñ—Ö–∞ –í–µ–ª–∏–∫–æ–≥–æ, —â–æ –¥–æ–∑–≤–æ–ª—è–≤ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä—É–≤–∞—Ç–∏ —Å–∏–ª–∏ –Ω–∞ –æ–¥–Ω–æ–º—É —Ñ–ª–∞–Ω–∑—ñ."
            },
            {
                question: "–£ —è–∫—ñ–π –±–∏—Ç–≤—ñ –±—É–ª–∞ '–¢–æ–Ω–∫–∞ —á–µ—Ä–≤–æ–Ω–∞ –ª—ñ–Ω—ñ—è'?",
                options: [
                    "–ë–∏—Ç–≤–∞ –ø—Ä–∏ –í–∞—Ç–µ—Ä–ª–æ–æ",
                    "–ë–∞–ª–∞–∫–ª–∞–≤—Å—å–∫–∞ –±–∏—Ç–≤–∞", 
                    "–ë–∏—Ç–≤–∞ –ø—Ä–∏ –ê—É—Å—Ç–µ—Ä–ª—ñ—Ü—ñ",
                    "–ë–∏—Ç–≤–∞ –ø—Ä–∏ –ì–µ—Ç—Ç—ñ—Å–±–µ—Ä–∑—ñ"
                ],
                correct: 1,
                explanation: "–ü—ñ–¥ —á–∞—Å –ë–∞–ª–∞–∫–ª–∞–≤—Å—å–∫–æ—ó –±–∏—Ç–≤–∏ (1854) 93-–π —à–æ—Ç–ª–∞–Ω–¥—Å—å–∫–∏–π –ø–æ–ª–∫ —É –¥–≤–æ—à–µ—Ä–µ–Ω–≥–æ–≤–æ–º—É —Å—Ç—Ä–æ—é –∑—É–ø–∏–Ω–∏–≤ –∞—Ç–∞–∫—É —Ä–æ—Å—ñ–π—Å—å–∫–æ—ó –∫–∞–≤–∞–ª–µ—Ä—ñ—ó."
            },
            {
                question: "–ß–æ–º—É –ª—ñ–Ω—ñ–π–Ω–∞ —Ç–∞–∫—Ç–∏–∫–∞ –∑–∞–Ω–µ–ø–∞–ª–∞?",
                options: [
                    "–ß–µ—Ä–µ–∑ –ø–æ—è–≤—É –∫—É–ª–µ–º–µ—Ç—ñ–≤",
                    "–ß–µ—Ä–µ–∑ –Ω–∞—Ä—ñ–∑–Ω—É –∑–±—Ä–æ—é", 
                    "–ß–µ—Ä–µ–∑ —à–≤–∏–¥–∫—ñ—Å–Ω—É –∞—Ä—Ç–∏–ª–µ—Ä—ñ—é",
                    "–í—Å–µ –≤–∏—â–µ –ø–µ—Ä–µ—Ä–∞—Ö–æ–≤–∞–Ω–µ"
                ],
                correct: 3,
                explanation: "–ü–æ—è–≤–∞ –Ω–∞—Ä—ñ–∑–Ω–∏—Ö –≥–≤–∏–Ω—Ç—ñ–≤–æ–∫, —à–≤–∏–¥–∫—ñ—Å–Ω–æ—ó –∞—Ä—Ç–∏–ª–µ—Ä—ñ—ó —Ç–∞ –∫—É–ª–µ–º–µ—Ç—ñ–≤ –∑—Ä–æ–±–∏–ª–∞ —â—ñ–ª—å–Ω—ñ —Å—Ç—Ä–æ—ó —Å–∞–º–æ–≥—É–±–Ω–∏–º–∏."
            }
        ];
        
        // =================== 3. –ì–õ–û–ë–ê–õ–¨–ù–Ü –ó–ú–Ü–ù–ù–Ü ===================
        let currentQuestionIndex = 0;
        let quizScore = 0;
        let timelineInitialized = false;
        
        // =================== 4. –û–°–ù–û–í–ù–ê –§–£–ù–ö–¶–Ü–Ø –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–á ===================
        function initializePage() {
            console.log("üöÄ –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏...");
            
            try {
                // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —à–∫–∞–ª–∏ —á–∞—Å—É
                initializeTimeline();
                
                // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –≤—ñ–∫—Ç–æ—Ä–∏–Ω–∏
                initializeQuiz();
                
                // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–∏–º—É–ª—è—Ü—ñ—ó
                initializeSimulation();
                
                // –î–æ–¥–∞–≤–∞–Ω–Ω—è –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –ø–æ–¥—ñ–π
                setupEventListeners();
                
                // –ü–æ–∫–∞–∑–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —É—Å–ø—ñ—à–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
                showNotification("–°—Ç–æ—Ä—ñ–Ω–∫–∞ —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞! –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—É.", "success");
                
                console.log("‚úÖ –°—Ç–æ—Ä—ñ–Ω–∫–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞");
            } catch (error) {
                console.error("‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó:", error);
                showNotification("–°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å.", "error");
            }
        }
        
        // =================== 5. –§–£–ù–ö–¶–Ü–á –î–õ–Ø –®–ö–ê–õ–ò –ß–ê–°–£ ===================
        function initializeTimeline() {
            console.log("üìÖ –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —à–∫–∞–ª–∏ —á–∞—Å—É...");
            renderTimeline();
            timelineInitialized = true;
        }
        
        function renderTimeline() {
            const timelineElement = document.getElementById('timeline');
            if (!timelineElement) {
                console.error("–ï–ª–µ–º–µ–Ω—Ç 'timeline' –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ!");
                return;
            }
            
            timelineElement.innerHTML = '';
            
            timelineEvents.forEach((event, index) => {
                const eventElement = document.createElement('div');
                eventElement.className = `timeline-event ${event.side}`;
                eventElement.innerHTML = `
                    <div class="event-year">${event.year}</div>
                    <h3>${event.title}</h3>
                    <p>${event.description}</p>
                    <div class="event-details">
                        <p><strong>–î–µ—Ç–∞–ª—ñ:</strong> ${event.details}</p>
                        <p><strong>–ó–Ω–∞—á–µ–Ω–Ω—è:</strong> ${event.important ? '–í–∞–∂–ª–∏–≤–∞ –ø–æ–¥—ñ—è –≤ —Ä–æ–∑–≤–∏—Ç–∫—É —Ç–∞–∫—Ç–∏–∫–∏' : '–ü–µ—Ä–µ—Ö—ñ–¥–Ω–∞ –ø–æ–¥—ñ—è'}</p>
                    </div>
                `;
                
                // –î–æ–¥–∞–≤–∞–Ω–Ω—è –æ–±—Ä–æ–±–Ω–∏–∫–∞ –∫–ª—ñ–∫—É
                eventElement.addEventListener('click', function(event) {
                    if (event.target.tagName === 'BUTTON') return;
                    
                    const details = this.querySelector('.event-details');
                    if (details) {
                        const isActive = details.classList.contains('active');
                        details.classList.toggle('active');
                        
                        // –ê–Ω—ñ–º–∞—Ü—ñ—è
                        if (!isActive) {
                            details.style.animation = 'fadeIn 0.5s ease';
                        }
                        
                        console.log(`–ü–æ–¥—ñ—è ${event.year} ${isActive ? '–∑–≥–æ—Ä–Ω—É—Ç–∞' : '—Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∞'}`);
                    }
                });
                
                timelineElement.appendChild(eventElement);
            });
            
            console.log(`‚úÖ –î–æ–¥–∞–Ω–æ ${timelineEvents.length} –ø–æ–¥—ñ–π –¥–æ —à–∫–∞–ª–∏ —á–∞—Å—É`);
        }
        
        function expandAllEvents() {
            document.querySelectorAll('.event-details').forEach(details => {
                details.classList.add('active');
            });
            showNotification("–í—Å—ñ –ø–æ–¥—ñ—ó —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç—ñ", "info");
            console.log("–í—Å—ñ –ø–æ–¥—ñ—ó —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç—ñ");
        }
        
        function collapseAllEvents() {
            document.querySelectorAll('.event-details').forEach(details => {
                details.classList.remove('active');
            });
            showNotification("–í—Å—ñ –ø–æ–¥—ñ—ó –∑–≥–æ—Ä–Ω—É—Ç—ñ", "info");
            console.log("–í—Å—ñ –ø–æ–¥—ñ—ó –∑–≥–æ—Ä–Ω—É—Ç—ñ");
        }
        
        function highlightImportantEvents() {
            const events = document.querySelectorAll('.timeline-event');
            let highlightedCount = 0;
            
            events.forEach(event => {
                const year = event.querySelector('.event-year').textContent;
                const timelineEvent = timelineEvents.find(e => e.year === year);
                
                if (timelineEvent && timelineEvent.important) {
                    event.style.backgroundColor = '#fff9e6';
                    event.style.boxShadow = '0 0 0 3px #f1c40f';
                    event.style.transform = 'scale(1.02)';
                    highlightedCount++;
                } else {
                    event.style.backgroundColor = '';
                    event.style.boxShadow = '';
                    event.style.transform = '';
                }
            });
            
            showNotification(`–í–∏–¥—ñ–ª–µ–Ω–æ ${highlightedCount} –≤–∞–∂–ª–∏–≤–∏—Ö –ø–æ–¥—ñ–π`, "info");
            console.log(`–í–∏–¥—ñ–ª–µ–Ω–æ ${highlightedCount} –≤–∞–∂–ª–∏–≤–∏—Ö –ø–æ–¥—ñ–π`);
        }
        
        function sortEventsChronological() {
            timelineEvents.sort((a, b) => parseInt(a.year) - parseInt(b.year));
            renderTimeline();
            showNotification("–ü–æ–¥—ñ—ó –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω—ñ –∑–∞ —Ö—Ä–æ–Ω–æ–ª–æ–≥—ñ—î—é", "success");
            console.log("–ü–æ–¥—ñ—ó –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω—ñ –∑–∞ —Ö—Ä–æ–Ω–æ–ª–æ–≥—ñ—î—é");
        }
        
        // =================== 6. –§–£–ù–ö–¶–Ü–á –î–õ–Ø –í–Ü–ö–¢–û–†–ò–ù–ò ===================
        function initializeQuiz() {
            console.log("‚ùì –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –≤—ñ–∫—Ç–æ—Ä–∏–Ω–∏...");
            loadQuestion();
        }
        
        function loadQuestion() {
            const questionElement = document.getElementById('question');
            const optionsElement = document.getElementById('options');
            const scoreElement = document.getElementById('score');
            
            if (!questionElement || !optionsElement) {
                console.error("–ï–ª–µ–º–µ–Ω—Ç–∏ –≤—ñ–∫—Ç–æ—Ä–∏–Ω–∏ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω—ñ!");
                return;
            }
            
            if (currentQuestionIndex >= quizQuestions.length) {
                currentQuestionIndex = 0; // –ü–æ—á–∞—Ç–∏ —Å–ø–æ—á–∞—Ç–∫—É
            }
            
            const currentQuestion = quizQuestions[currentQuestionIndex];
            
            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∏—Ç–∞–Ω–Ω—è
            questionElement.textContent = `–ü–∏—Ç–∞–Ω–Ω—è ${currentQuestionIndex + 1}: ${currentQuestion.question}`;
            
            // –û—á–∏—â–µ–Ω–Ω—è –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤
            optionsElement.innerHTML = '';
            
            // –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤
            currentQuestion.options.forEach((option, index) => {
                const optionButton = document.createElement('button');
                optionButton.className = 'quiz-option';
                optionButton.textContent = option;
                optionButton.dataset.index = index;
                
                optionButton.addEventListener('click', function() {
                    checkAnswer(index, currentQuestion.correct);
                });
                
                optionsElement.appendChild(optionButton);
            });
            
            // –û—á–∏—â–µ–Ω–Ω—è –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
            const resultElement = document.getElementById('result');
            if (resultElement) {
                resultElement.textContent = '';
                resultElement.style.color = '';
            }
            
            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–∞—Ö—É–Ω–∫—É
            if (scoreElement) {
                scoreElement.textContent = `–†–∞—Ö—É–Ω–æ–∫: ${quizScore}/${quizQuestions.length}`;
            }
            
            console.log(`–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ –ø–∏—Ç–∞–Ω–Ω—è ${currentQuestionIndex + 1}`);
        }
        
        function checkAnswer(selectedIndex, correctIndex) {
            const options = document.querySelectorAll('.quiz-option');
            const resultElement = document.getElementById('result');
            const currentQuestion = quizQuestions[currentQuestionIndex];
            
            // –í—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≤—Å—ñ—Ö –∫–Ω–æ–ø–æ–∫ –ø—ñ—Å–ª—è –≤–∏–±–æ—Ä—É
            options.forEach(button => {
                button.disabled = true;
                button.style.cursor = 'not-allowed';
            });
            
            // –í—ñ–¥–º—ñ—Ç–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö/–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
            options.forEach((button, index) => {
                if (index === correctIndex) {
                    button.classList.add('correct');
                } else if (index === selectedIndex && index !== correctIndex) {
                    button.classList.add('incorrect');
                }
            });
            
            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
            if (selectedIndex === correctIndex) {
                quizScore++;
                if (resultElement) {
                    resultElement.textContent = '‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ! ' + currentQuestion.explanation;
                    resultElement.style.color = '#27ae60';
                }
                showNotification("–ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å! +1 –±–∞–ª", "success");
            } else {
                if (resultElement) {
                    resultElement.textContent = `‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. ${currentQuestion.explanation}`;
                    resultElement.style.color = '#e74c3c';
                }
                showNotification("–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å. –°–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è", "error");
            }
            
            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–∞—Ö—É–Ω–∫—É
            const scoreElement = document.getElementById('score');
            if (scoreElement) {
                scoreElement.textContent = `–†–∞—Ö—É–Ω–æ–∫: ${quizScore}/${quizQuestions.length}`;
            }
            
            console.log(`–í—ñ–¥–ø–æ–≤—ñ–¥—å: ${selectedIndex}, –ü—Ä–∞–≤–∏–ª—å–Ω–æ: ${selectedIndex === correctIndex}, –†–∞—Ö—É–Ω–æ–∫: ${quizScore}`);
        }
        
        function nextQuestion() {
            currentQuestionIndex++;
            
            // –Ø–∫—â–æ —Ü–µ –æ—Å—Ç–∞–Ω–Ω—î –ø–∏—Ç–∞–Ω–Ω—è
            if (currentQuestionIndex >= quizQuestions.length) {
                const percentage = Math.round((quizScore / quizQuestions.length) * 100);
                let message;
                
                if (percentage >= 80) {
                    message = `–í—ñ–¥–º—ñ–Ω–Ω–æ! –í–∏ –∑–Ω–∞–≤–µ—Ü—å –ª—ñ–Ω—ñ–π–Ω–æ—ó —Ç–∞–∫—Ç–∏–∫–∏! –†–µ–∑—É–ª—å—Ç–∞—Ç: ${quizScore}/${quizQuestions.length} (${percentage}%)`;
                    showNotification(message, "success");
                } else if (percentage >= 60) {
                    message = `–î–æ–±—Ä–µ! –í–∏ –¥–æ–±—Ä–µ –∑–Ω–∞—î—Ç–µ —Ç–µ–º—É. –†–µ–∑—É–ª—å—Ç–∞—Ç: ${quizScore}/${quizQuestions.length} (${percentage}%)`;
                    showNotification(message, "info");
                } else {
                    message = `–ú–æ–∂–Ω–∞ –∫—Ä–∞—â–µ! –ü–æ–≤—Ç–æ—Ä—ñ—Ç—å –º–∞—Ç–µ—Ä—ñ–∞–ª. –†–µ–∑—É–ª—å—Ç–∞—Ç: ${quizScore}/${quizQuestions.length} (${percentage}%)`;
                    showNotification(message, "error");
                }
                
                // –°–∫–∏–¥–∞–Ω–Ω—è –≤—ñ–∫—Ç–æ—Ä–∏–Ω–∏
                currentQuestionIndex = 0;
                quizScore = 0;
            }
            
            loadQuestion();
        }
        
        // =================== 7. –§–£–ù–ö–¶–Ü–á –î–õ–Ø –°–ò–ú–£–õ–Ø–¶–Ü–á ===================
        function initializeSimulation() {
            console.log("üéÆ –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–∏–º—É–ª—è—Ü—ñ—ó...");
            
            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω—å —Å–ª–∞–π–¥–µ—Ä—ñ–≤
            updateSoldierCount();
            updateDistance();
            
            // –ú–∞–ª—é–≤–∞–Ω–Ω—è –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—è
            drawFormation();
        }
        
        function updateSoldierCount() {
            const slider = document.getElementById('soldier-slider');
            const countDisplay = document.getElementById('soldier-count');
            
            if (slider && countDisplay) {
                countDisplay.textContent = slider.value;
                drawFormation();
            }
        }
        
        function updateDistance() {
            const slider = document.getElementById('distance-slider');
            const distanceDisplay = document.getElementById('distance');
            
            if (slider && distanceDisplay) {
                distanceDisplay.textContent = slider.value;
            }
        }
        
        function calculateEffectiveness() {
            const soldierCount = parseInt(document.getElementById('soldier-slider').value);
            const distance = parseInt(document.getElementById('distance-slider').value);
            
            // –ü—Ä–æ—Å—Ç–∞ –º–æ–¥–µ–ª—å —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
            let baseEffectiveness;
            
            if (distance <= 50) {
                baseEffectiveness = 95; // –û–ø—Ç–∏–º–∞–ª—å–Ω–∞ –¥–∏—Å—Ç–∞–Ω—Ü—ñ—è
            } else if (distance <= 100) {
                baseEffectiveness = 70; // –•–æ—Ä–æ—à–∞ –¥–∏—Å—Ç–∞–Ω—Ü—ñ—è
            } else {
                baseEffectiveness = 30; // –ü–æ–≥–∞–Ω–∞ –¥–∏—Å—Ç–∞–Ω—Ü—ñ—è
            }
            
            // –ú–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∑–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—é —Å–æ–ª–¥–∞—Ç—ñ–≤
            let soldierModifier;
            if (soldierCount < 50) {
                soldierModifier = 0.7; // –ó–∞–º–∞–ª–æ —Å–æ–ª–¥–∞—Ç—ñ–≤
            } else if (soldierCount <= 150) {
                soldierModifier = 1.0; // –û–ø—Ç–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å
            } else {
                soldierModifier = 0.8; // –ó–∞–±–∞–≥–∞—Ç–æ —Å–æ–ª–¥–∞—Ç—ñ–≤
            }
            
            // –§—ñ–Ω–∞–ª—å–Ω–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
            const effectiveness = Math.round(baseEffectiveness * soldierModifier);
            
            // –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π
            const recommendations = [];
            
            if (distance > 100) {
                recommendations.push("–î–∏—Å—Ç–∞–Ω—Ü—ñ—è –∑–∞–Ω–∞–¥—Ç–æ –≤–µ–ª–∏–∫–∞. –ó–º–µ–Ω—à—ñ—Ç—å –≤—ñ–¥—Å—Ç–∞–Ω—å –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∞—Ä—Ç–∏–ª–µ—Ä—ñ—é.");
            }
            
            if (soldierCount < 50) {
                recommendations.push("–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—è –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–æ–ª–¥–∞—Ç—ñ–≤. –î–æ—á–µ–∫–∞–π—Ç–µ—Å—è –ø—ñ–¥–∫—Ä—ñ–ø–ª–µ–Ω–Ω—è.");
            } else if (soldierCount > 150) {
                recommendations.push("–ù–∞–¥–º—ñ—Ä–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–æ–ª–¥–∞—Ç—ñ–≤. –†–æ–∑–¥—ñ–ª—ñ—Ç—å —Å—Ç—Ä—ñ–π –Ω–∞ –¥–≤—ñ –ª—ñ–Ω—ñ—ó.");
            }
            
            if (distance <= 50 && soldierCount >= 50 && soldierCount <= 150) {
                recommendations.push("–Ü–¥–µ–∞–ª—å–Ω—ñ —É–º–æ–≤–∏ –¥–ª—è –ª—ñ–Ω—ñ–π–Ω–æ—ó —Ç–∞–∫—Ç–∏–∫–∏!");
            }
            
            // –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
            const resultElement = document.getElementById('simulation-result');
            if (resultElement) {
                let effectivenessColor;
                if (effectiveness >= 70) effectivenessColor = '#27ae60';
                else if (effectiveness >= 40) effectivenessColor = '#f39c12';
                else effectivenessColor = '#e74c3c';
                
                let recommendationsHTML = '';
                if (recommendations.length > 0) {
                    recommendationsHTML = `
                        <h4>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:</h4>
                        <ul>
                            ${recommendations.map(rec => `<li>${rec}</li>`).join('')}
                        </ul>
                    `;
                }
                
                resultElement.innerHTML = `
                    <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Å–∏–º—É–ª—è—Ü—ñ—ó:</h3>
                    <p><strong>–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å–æ–ª–¥–∞—Ç—ñ–≤:</strong> ${soldierCount}</p>
                    <p><strong>–î–∏—Å—Ç–∞–Ω—Ü—ñ—è:</strong> ${distance} –º–µ—Ç—Ä—ñ–≤</p>
                    <p><strong>–ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –ª—ñ–Ω—ñ–π–Ω–æ–≥–æ —Å—Ç—Ä–æ—é:</strong> 
                        <span style="color: ${effectivenessColor}; font-weight: bold; font-size: 1.2em;">
                            ${effectiveness}%
                        </span>
                    </p>
                    ${recommendationsHTML}
                    <p style="margin-top: 10px; font-style: italic; font-size: 0.9em;">
                        <strong>–ü—Ä–∏–º—ñ—Ç–∫–∞:</strong> –¶–µ —Å–ø—Ä–æ—â–µ–Ω–∞ –º–æ–¥–µ–ª—å –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó. –£ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—ñ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –±–∞–≥–∞—Ç—å–æ—Ö —Ñ–∞–∫—Ç–æ—Ä—ñ–≤.
                    </p>
                `;
            }
            
            console.log(`–°–∏–º—É–ª—è—Ü—ñ—è: ${soldierCount} —Å–æ–ª–¥–∞—Ç—ñ–≤, ${distance}–º, –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å: ${effectiveness}%`);
            showNotification(`–ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —Ä–æ–∑—Ä–∞—Ö–æ–≤–∞–Ω–∞: ${effectiveness}%`, "info");
        }
        
        function drawFormation() {
            const canvas = document.getElementById('formation-canvas');
            if (!canvas) {
                console.error("Canvas –µ–ª–µ–º–µ–Ω—Ç –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ!");
                return;
            }
            
            const ctx = canvas.getContext('2d');
            const soldierCount = parseInt(document.getElementById('soldier-slider').value);
            
            // –û—á–∏—â–µ–Ω–Ω—è canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // –§–æ–Ω
            ctx.fillStyle = '#f8f9fa';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // –ó–µ–º–ª—è
            ctx.fillStyle = '#8b4513';
            ctx.fillRect(0, canvas.height - 50, canvas.width, 50);
            
            // –õ—ñ–Ω—ñ—è —Ñ—Ä–æ–Ω—Ç—É
            ctx.strokeStyle = '#3498db';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(50, canvas.height - 100);
            ctx.lineTo(canvas.width - 50, canvas.height - 100);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // –ü—ñ–¥–ø–∏—Å–∏
            ctx.fillStyle = '#2c3e50';
            ctx.font = '14px Arial';
            ctx.fillText('–°–æ—é–∑–Ω—ñ –≤—ñ–π—Å—å–∫–∞', 10, 30);
            ctx.fillText('–õ—ñ–Ω—ñ–π–Ω–∏–π —Å—Ç—Ä—ñ–π', canvas.width / 2 - 40, canvas.height - 110);
            ctx.fillText('–í–æ—Ä–æ–∂—ñ –≤—ñ–π—Å—å–∫–∞', canvas.width - 100, 30);
            
            // –ú–∞–ª—é–≤–∞–Ω–Ω—è —Å–æ–ª–¥–∞—Ç—ñ–≤
            const spacing = (canvas.width - 200) / (soldierCount + 1);
            
            for (let i = 1; i <= soldierCount; i++) {
                const x = 100 + spacing * i;
                const y = canvas.height - 120;
                
                // –¢—ñ–ª–æ —Å–æ–ª–¥–∞—Ç–∞
                ctx.fillStyle = '#2c3e50';
                ctx.beginPath();
                ctx.arc(x, y, 8, 0, Math.PI * 2);
                ctx.fill();
                
                // –ì–æ–ª–æ–≤–∞
                ctx.fillStyle = '#f1c40f';
                ctx.beginPath();
                ctx.arc(x, y - 10, 5, 0, Math.PI * 2);
                ctx.fill();
                
                // –ú—É—à–∫–µ—Ç
                ctx.strokeStyle = '#7f8c8d';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(x, y);
                ctx.lineTo(x + 20, y - 5);
                ctx.stroke();
                
                // –ë–∞–≥–Ω–µ—Ç
                ctx.strokeStyle = '#e74c3c';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(x + 20, y - 5);
                ctx.lineTo(x + 30, y - 8);
                ctx.stroke();
            }
            
            // –í–æ—Ä–æ–∂—ñ –≤—ñ–π—Å—å–∫–∞ (—Å–ø—Ä–æ—â–µ–Ω–æ)
            ctx.fillStyle = 'rgba(231, 76, 60, 0.3)';
            ctx.fillRect(canvas.width - 150, canvas.height - 150, 100, 50);
            ctx.fillStyle = '#e74c3c';
            ctx.font = '12px Arial';
            ctx.fillText('–í–æ—Ä–æ–≥', canvas.width - 130, canvas.height - 130);
            
            console.log(`–ù–∞–º–∞–ª—å–æ–≤–∞–Ω–æ —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—è –∑ ${soldierCount} —Å–æ–ª–¥–∞—Ç–∞–º–∏`);
        }
        
        // =================== 8. –î–û–î–ê–¢–ö–û–í–Ü –§–£–ù–ö–¶–Ü–á ===================
        function showNotification(message, type = 'info') {
            // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç–∞ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è
            const notification = document.createElement('div');
            notification.textContent = message;
            notification.style.position = 'fixed';
            notification.style.top = '20px';
            notification.style.right = '20px';
            notification.style.padding = '15px';
            notification.style.borderRadius = '5px';
            notification.style.zIndex = '1000';
            notification.style.maxWidth = '300px';
            notification.style.boxShadow = '0 4px 12px rgba(0,0,0,0.15)';
            notification.style.animation = 'fadeIn 0.5s ease';
            
            // –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∫–æ–ª—å–æ—Ä—É –∑–∞ —Ç–∏–ø–æ–º
            if (type === 'success') {
                notification.style.backgroundColor = '#d4edda';
                notification.style.color = '#155724';
                notification.style.border = '1px solid #c3e6cb';
            } else if (type === 'error') {
                notification.style.backgroundColor = '#f8d7da';
                notification.style.color = '#721c24';
                notification.style.border = '1px solid #f5c6cb';
            } else {
                notification.style.backgroundColor = '#d1ecf1';
                notification.style.color = '#0c5460';
                notification.style.border = '1px solid #bee5eb';
            }
            
            // –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É
            document.body.appendChild(notification);
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥–∏
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transition = 'opacity 0.5s ease';
                
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 500);
            }, 4000);
            
            console.log(`–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è: ${message} (${type})`);
        }
        
        function setupEventListeners() {
            console.log("üîó –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –ø–æ–¥—ñ–π...");
            
            // –ö–Ω–æ–ø–∫–∏ –¥–ª—è —à–∫–∞–ª–∏ —á–∞—Å—É
            const expandBtn = document.getElementById('expandAll');
            const collapseBtn = document.getElementById('collapseAll');
            const highlightBtn = document.getElementById('highlightImportant');
            const sortBtn = document.getElementById('sortChronological');
            
            if (expandBtn) expandBtn.addEventListener('click', expandAllEvents);
            if (collapseBtn) collapseBtn.addEventListener('click', collapseAllEvents);
            if (highlightBtn) highlightBtn.addEventListener('click', highlightImportantEvents);
            if (sortBtn) sortBtn.addEventListener('click', sortEventsChronological);
            
            // –ö–Ω–æ–ø–∫–∏ –¥–ª—è –≤—ñ–∫—Ç–æ—Ä–∏–Ω–∏
            const nextQuestionBtn = document.getElementById('next-question');
            if (nextQuestionBtn) nextQuestionBtn.addEventListener('click', nextQuestion);
            
            // –ö–Ω–æ–ø–∫–∏ –¥–ª—è —Å–∏–º—É–ª—è—Ü—ñ—ó
            const calculateBtn = document.getElementById('calculate-effectiveness');
            if (calculateBtn) calculateBtn.addEventListener('click', calculateEffectiveness);
            
            // –°–ª–∞–π–¥–µ—Ä–∏ —Å–∏–º—É–ª—è—Ü—ñ—ó
            const soldierSlider = document.getElementById('soldier-slider');
            const distanceSlider = document.getElementById('distance-slider');
            
            if (soldierSlider) soldierSlider.addEventListener('input', updateSoldierCount);
            if (distanceSlider) distanceSlider.addEventListener('input', updateDistance);
            
            // –ì–∞—Ä—è—á—ñ –∫–ª–∞–≤—ñ—à—ñ
            document.addEventListener('keydown', function(event) {
                // Alt+E - –†–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ –≤—Å—ñ
                if (event.altKey && event.key === 'e') {
                    event.preventDefault();
                    expandAllEvents();
                }
                
                // Alt+C - –ó–≥–æ—Ä–Ω—É—Ç–∏ –≤—Å—ñ
                if (event.altKey && event.key === 'c') {
                    event.preventDefault();
                    collapseAllEvents();
                }
                
                // Alt+N - –ù–∞—Å—Ç—É–ø–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è
                if (event.altKey && event.key === 'n') {
                    event.preventDefault();
                    nextQuestion();
                }
                
                // Alt+R - –†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
                if (event.altKey && event.key === 'r') {
                    event.preventDefault();
                    calculateEffectiveness();
                }
            });
            
            console.log("‚úÖ –û–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ");
        }
        
        // =================== 9. –ó–ê–ü–£–°–ö –ü–†–ò –ó–ê–í–ê–ù–¢–ê–ñ–ï–ù–ù–Ü –°–¢–û–†–Ü–ù–ö–ò ===================
        document.addEventListener('DOMContentLoaded', function() {
            console.log("üìÑ DOM –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏–π");
            
            // –ù–µ–≤–µ–ª–∏–∫–∞ –∑–∞—Ç—Ä–∏–º–∫–∞ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç—ñ—ó, —â–æ –≤—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –≥–æ—Ç–æ–≤—ñ
            setTimeout(initializePage, 100);
        });
        
        // =================== 10. –î–ï–ú–û–ù–°–¢–†–ê–¶–Ü–ô–ù–Ü –§–£–ù–ö–¶–Ü–á –î–õ–Ø –ö–û–ù–°–û–õ–Ü ===================
        // –¶—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –º–æ–∂–Ω–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –∑ –∫–æ–Ω—Å–æ–ª—ñ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
        window.debug = {
            showEvents: function() {
                console.log("–ü–æ–¥—ñ—ó –Ω–∞ —à–∫–∞–ª—ñ:", timelineEvents);
                return timelineEvents;
            },
            showQuestions: function() {
                console.log("–ü–∏—Ç–∞–Ω–Ω—è –≤—ñ–∫—Ç–æ—Ä–∏–Ω–∏:", quizQuestions);
                return quizQuestions;
            },
            resetQuiz: function() {
                currentQuestionIndex = 0;
                quizScore = 0;
                loadQuestion();
                console.log("–í—ñ–∫—Ç–æ—Ä–∏–Ω–∞ —Å–∫–∏–Ω—É—Ç–∞");
            },
            testNotification: function() {
                showNotification("–¢–µ—Å—Ç–æ–≤–µ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è", "info");
            }
        };
        
        console.log("=== –°–ö–†–ò–ü–¢ –ó–ê–í–ê–ù–¢–ê–ñ–ï–ù–û ===");
        console.log("–î–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è: debug.showEvents(), debug.showQuestions(), debug.resetQuiz()");
    </script>
</body>
</html>